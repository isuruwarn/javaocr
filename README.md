# javaocr



Quick overview:

1. Create bitmap of image, where dark pixels are saved as 1 and white pixels as 0
2. Scan image horizontally to determine the lines in image
3. Scan each line vertically to determine the characters contained in it
4. Break down each character into a grid (block representation) of 1s and 0s
5. Identify character by looking up the block representations saved in file for any matches



Steps:

1. Create bitmap of image
	1a. Read image using javax.imageio.ImageIO.read().
	1b. Find height and width and use 2 nested for() loops to read RGB value of each pixel.
	1c. Calculate average RGB of each pixel.
	1d. Each pixels will be represented in a binary format using a 2D int array. Dark colored 
		pixels (avgRGB < BW_THREASHOLD) will be saved as 1, and white pixels will be saved as 0.
		
2. While carrying out step 1, we will try to separate out the lines in the image
	2a. Since we are scanning the image horizontally, if the value representing a pixel 
		is 1, we have come across a line. If so, we add it to an ArrayList.
	2b. When number of lines exceed MIN_BLANKLINE_HEIGHT, we mark it as a blank line.
	
3. Scan each line vertically to determine the characters contained in it.

4. Break down each character into a grid (block representation) of 1s and 0s, which contains a fixed 
	number of blocks vertically (BLOCKS_PER_CHAR), and a variable number of blocks horizontally.

5. Identify character by looking up the block representations saved in file for any matches

6. Update StringBuilder object accordingly

7. Display result



Constraints:
1. Letters need to be oriented perfectly horizontally
2. Recognition algorithm is dependent on font type. New font types will have to be mapped.
3. Fixed as of v2 - Unusually tall letters in the same line may mislead the recognition algorithm 
4. Any blemishes or spots in the image mislead the recognition algorithm
5. Minimum character height is 15 pixels
6. Letters have to be in dark colors, in a light background


Mapping file - contains key value pairs of char code and character. Does not need to know about 
	ocr algorithm. 

Char code - a string code generated by ocr algorithm, which helps identify a character. It is 
	used as the key in the mapping files. Different ocr algorithms will have different techniques 
	for generating this string. 

Block sequence - a list of 1s and 0s which is a linear representation of the block representation 
	(or grid) of each character. This sequence is generated while processing the character, so 
	is currently implemented in the ocr engine.

Block sequence image - a buffered image which is a visual representation of the block sequence. 
	It should be independent of the ocr algorithm. 

Scanning algorithm - identifies the lines and characters in the given bitmap, and produces a 
	list of lines, where each line contains a list of characters. Determines the x,y positions, 
	width and height of each object.



The process of identification can be described in tow main steps:

1. Map each character into a grid, or block representation -  This process has two main goals. 
	- The first is to eliminate the minor details  (sort of "blur") the details of the character 
		so that only the main features remain. Focusing only on the main features will help the 
		recognition algorithm look for possible matches, because it will reduce the tendency to 
		interpret the same letter in different ways.
	- The second advantage of the block representation is that it will enable us to handle characters
		of different heights and widths.
	Even though this is a 2D grid, it is stored as a list. As of version 2, the map will only record
	black pixels, and not white areas of the character.

2. Check if grid map contains all positions defined in the list of key points - 
		

